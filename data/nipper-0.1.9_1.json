{
    "level": "Info",
    "analyzer": "UnsafeDataflow",
    "op_type": "Transmute",
    "description": "Potential unsafe dataflow issue in `<dom_tree::SerializableNodeRef<'a> as html5ever::serialize::Serialize>::serialize`",
    "file": "nipper-0.1.9/src/dom_tree.rs",
    "start_line": 1033,
    "start_col": 5,
    "end_line": 1087,
    "end_col": 6,
    "code_snippet": "fn serialize<S>(&self, serializer: &mut S, traversal_scope: TraversalScope) -> io::Result<()>\n    where\n        S: Serializer,\n    {\n        let nodes = self.0.tree.nodes.borrow();\n        let id = self.0.id;\n        let mut ops = match traversal_scope {\n            IncludeNode => vec![SerializeOp::Open(id)],\n            ChildrenOnly(_) => children_of!(nodes, id)\n                .into_iter()\n                .map(|h| SerializeOp::Open(h))\n                .collect(),\n        };\n\n        while !ops.is_empty() {\n            if let Err(e) = match ops.remove(0) {\n                SerializeOp::Open(id) => match unsafe { &nodes.get_unchecked(id.value).data } {\n                    NodeData::Element(ref e) => {\n                        serializer.start_elem(\n                            e.name.clone(),\n                            e.attrs.iter().map(|at| (&at.name, &at.value[..])),\n                        )?;\n\n                        ops.insert(0, SerializeOp::Close(e.name.clone()));\n\n                        for child_id in children_of!(nodes, id).into_iter().rev() {\n                            ops.insert(0, SerializeOp::Open(child_id));\n                        }\n\n                        Ok(())\n                    }\n                    NodeData::Doctype { ref name, .. } => serializer.write_doctype(&name),\n                    NodeData::Text { ref contents } => serializer.write_text(&contents),\n                    NodeData::Comment { ref contents } => serializer.write_comment(&contents),\n                    NodeData::ProcessingInstruction {\n                        ref target,\n                        ref contents,\n                    } => serializer.write_processing_instruction(target, contents),\n                    NodeData::Document => {\n                        for child_id in children_of!(nodes, id).into_iter().rev() {\n                            ops.insert(0, SerializeOp::Open(child_id));\n                        }\n                        continue;\n                    }\n                },\n                SerializeOp::Close(name) => serializer.end_elem(name),\n            } {\n                // self.0.tree.nodes.set(nodes);\n                return Err(e);\n            }\n        }\n\n        // self.0.tree.nodes.set(nodes);\n        Ok(())\n    }"
}