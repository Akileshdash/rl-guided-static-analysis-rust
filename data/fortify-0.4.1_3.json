{
    "level": "Info",
    "analyzer": "UnsafeDataflow",
    "op_type": "Transmute",
    "description": "Potential unsafe dataflow issue in `Fortify::<T>::new_async`",
    "file": "fortify-0.4.1/src/lib.rs",
    "start_line": 140,
    "start_col": 5,
    "end_line": 175,
    "end_col": 6,
    "code_snippet": "pub fn new_async<C, F>(cons: C) -> Self\n    where\n        C: 'a + FnOnce(FortifyYielder<T>) -> F,\n        F: 'a + Future<Output = ()>,\n    {\n        let waker = nop_waker();\n        let mut cx = Context::from_waker(&waker);\n        let mut data = FortifyYielderData {\n            value: MaybeUninit::uninit(),\n            tracker: FortifyYielderTracker {\n                cx_ptr: &cx as *const Context as *const (),\n                has_awaited: false,\n            },\n        };\n        let future = Box::into_raw(Box::new(cons(FortifyYielder(&mut data))));\n        match Future::poll(unsafe { Pin::new_unchecked(&mut *future) }, &mut cx) {\n            Poll::Ready(_) => {\n                unsafe { drop_box_from_raw::<F>(future as *mut ()) };\n                panic!(\"Future must await on FortifyYielder::yield_\")\n            }\n            Poll::Pending => {\n                if data.tracker.has_awaited {\n                    Self {\n                        value: ManuallyDrop::new(unsafe {\n                            transmute_copy(data.value.assume_init_ref())\n                        }),\n                        data_raw: future as *mut (),\n                        data_drop_fn: drop_box_from_raw::<F>,\n                    }\n                } else {\n                    unsafe { drop_box_from_raw::<F>(future as *mut ()) };\n                    panic!(\"Future may only await on FortifyYielder::yield_\")\n                }\n            }\n        }\n    }"
}