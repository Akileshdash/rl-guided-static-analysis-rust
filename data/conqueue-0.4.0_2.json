{
    "level": "Warning",
    "analyzer": "UnsafeDestructor",
    "op_type": null,
    "description": "unsafe block detected in drop",
    "file": "conqueue-0.4.0/src/lib.rs",
    "start_line": 140,
    "start_col": 1,
    "end_line": 140,
    "end_col": 34,
    "code_snippet": "impl<T> Drop for QueueReceiver<T> {\n    fn drop(&mut self) {\n        let last = Box::into_raw(Box::new(QueueHead {\n            element: None,\n            next: ptr::null_mut(),\n        }));\n\n        let mut head = ptr::null_mut();\n\n        loop {\n            match self\n                .in_queue\n                .compare_exchange(head, last, Ordering::SeqCst, Ordering::SeqCst)\n            {\n                Ok(_) => {\n                    while !head.is_null() {\n                        let boxed = unsafe { Box::from_raw(head) };\n\n                        head = boxed.next;\n                    }\n\n                    break;\n                }\n\n                Err(actual) => {\n                    head = actual;\n                }\n            }\n        }\n\n        let mut in_queue = Arc::new(AtomicPtr::default());\n\n        mem::swap(&mut in_queue, &mut self.in_queue);\n\n        if let Ok(head) = Arc::try_unwrap(in_queue) {\n            let head = head.swap(ptr::null_mut(), Ordering::SeqCst);\n\n            if !head.is_null() {\n                unsafe { Box::from_raw(head) };\n            }\n        }\n    }\n}"
}