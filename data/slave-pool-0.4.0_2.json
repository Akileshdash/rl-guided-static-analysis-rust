{
    "level": "Warning",
    "analyzer": "UnsafeDestructor",
    "op_type": null,
    "description": "unsafe block detected in drop",
    "file": "slave-pool-0.4.0/src/oneshot.rs",
    "start_line": 108,
    "start_col": 1,
    "end_line": 108,
    "end_col": 27,
    "code_snippet": "impl<T> Drop for Sender<T> {\n    fn drop(&mut self) {\n        //Make sure to guarantee we acquire RECV_CLOSED prior setting SEND_CLOSED\n        let mut state = self.payload().state.load(Ordering::Acquire);\n        if state & WAKER_SET == WAKER_SET {\n            let notifier = self.payload().take_notifier();\n            //Unset WAKER_SET and set SEND_CLOSED\n            state = self.payload().state.fetch_xor(WAKER_SET | SEND_CLOSED, Ordering::AcqRel);\n\n            match notifier {\n                Notifier::Thread(thread) => thread.unpark(),\n                Notifier::Waker(waker) => waker.wake(),\n            }\n        } else {\n            state = self.payload().state.fetch_or(SEND_CLOSED, Ordering::AcqRel);\n        }\n\n        if state & RECV_CLOSED == RECV_CLOSED {\n            unsafe {\n                let _ = Box::from_raw(self.payload.as_ptr());\n            }\n        }\n    }\n}"
}