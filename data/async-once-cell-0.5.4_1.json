{
    "level": "Warning",
    "analyzer": "UnsafeDestructor",
    "op_type": null,
    "description": "unsafe block detected in drop",
    "file": "async-once-cell-0.5.4/src/lib.rs",
    "start_line": 385,
    "start_col": 1,
    "end_line": 385,
    "end_col": 31,
    "code_snippet": "impl<'a> Drop for QueueRef<'a> {\n    fn drop(&mut self) {\n        // Release the reference to queue\n        let prev_state = self.inner.state.fetch_sub(1, Ordering::Release);\n        // Note: as of now, self.queue may be invalid\n\n        let curr_state = prev_state - 1;\n        if curr_state == READY_BIT || curr_state == READY_BIT | QINIT_BIT {\n            // We just removed the only waiter on an initialized cell.  This means the\n            // queue is no longer needed.  Acquire the queue again so we can free it.\n            let queue = self.inner.queue.swap(ptr::null_mut(), Ordering::Acquire);\n            if !queue.is_null() {\n                // Safety: the last guard is being freed, and queue is only used by guard-holders.\n                // Due to the swap, we are the only one who is freeing this particular queue.\n                unsafe {\n                    drop(Box::from_raw(queue));\n                }\n            }\n        }\n    }\n}"
}