{
    "level": "Info",
    "analyzer": "UnsafeDataflow",
    "op_type": "Transmute",
    "description": "Potential unsafe dataflow issue in `ops::cnn::conv::lazy_im2col::LazyIm2colInput::write`",
    "file": "tract-core-0.21.13/src/ops/cnn/conv/lazy_im2col.rs",
    "start_line": 269,
    "start_col": 5,
    "end_line": 362,
    "end_col": 6,
    "code_snippet": "fn write<T: Datum + Copy>(\n        &self,\n        writer: &mut impl PackingWriter<T>,\n        k_range: std::ops::Range<isize>,\n        mn_range: std::ops::Range<isize>,\n    ) {\n        let mn_end = mn_range.end.min(self.im2col.n_byte_offsets.len() as isize);\n        let n_range = mn_range.start..mn_end;\n        match n_range.len() {\n            8 => return self.input_8n(writer, k_range, n_range.start),\n            6 => return self.input_6n(writer, k_range, n_range.start),\n            4 => return self.input_4n(writer, k_range, n_range.start),\n            2 => return self.input_2n(writer, k_range, n_range.start),\n            _ => (),\n        }\n        unsafe {\n            let ptr = self.tensor.as_ptr_unchecked::<u8>();\n            let k_byte_offsets = self.im2col.k_byte_offsets.as_ptr();\n            let n_byte_offsets = self.im2col.n_byte_offsets.as_ptr();\n            for k in k_range.start..k_range.end {\n                let ptr = ptr.offset(*k_byte_offsets.offset(k));\n                let mut n = n_range.start;\n                while n + 8 <= n_range.end {\n                    let o1 = *n_byte_offsets.offset(n);\n                    let o2 = *n_byte_offsets.offset(n + 1);\n                    let o3 = *n_byte_offsets.offset(n + 2);\n                    let o4 = *n_byte_offsets.offset(n + 3);\n                    let o5 = *n_byte_offsets.offset(n + 4);\n                    let o6 = *n_byte_offsets.offset(n + 5);\n                    let o7 = *n_byte_offsets.offset(n + 6);\n                    let o8 = *n_byte_offsets.offset(n + 7);\n                    let v1 = *(ptr.offset(o1) as *const T);\n                    let v2 = *(ptr.offset(o2) as *const T);\n                    let v3 = *(ptr.offset(o3) as *const T);\n                    let v4 = *(ptr.offset(o4) as *const T);\n                    let v5 = *(ptr.offset(o5) as *const T);\n                    let v6 = *(ptr.offset(o6) as *const T);\n                    let v7 = *(ptr.offset(o7) as *const T);\n                    let v8 = *(ptr.offset(o8) as *const T);\n                    writer.write(v1);\n                    writer.write(v2);\n                    writer.write(v3);\n                    writer.write(v4);\n                    writer.write(v5);\n                    writer.write(v6);\n                    writer.write(v7);\n                    writer.write(v8);\n                    n += 8;\n                }\n                while n + 6 <= n_range.end {\n                    let o1 = *n_byte_offsets.offset(n);\n                    let o2 = *n_byte_offsets.offset(n + 1);\n                    let o3 = *n_byte_offsets.offset(n + 2);\n                    let o4 = *n_byte_offsets.offset(n + 3);\n                    let o5 = *n_byte_offsets.offset(n + 4);\n                    let o6 = *n_byte_offsets.offset(n + 5);\n                    let v1 = *(ptr.offset(o1) as *const T);\n                    let v2 = *(ptr.offset(o2) as *const T);\n                    let v3 = *(ptr.offset(o3) as *const T);\n                    let v4 = *(ptr.offset(o4) as *const T);\n                    let v5 = *(ptr.offset(o5) as *const T);\n                    let v6 = *(ptr.offset(o6) as *const T);\n                    writer.write(v1);\n                    writer.write(v2);\n                    writer.write(v3);\n                    writer.write(v4);\n                    writer.write(v5);\n                    writer.write(v6);\n                    n += 6;\n                }\n                while n + 4 <= n_range.end {\n                    let o1 = *n_byte_offsets.offset(n);\n                    let o2 = *n_byte_offsets.offset(n + 1);\n                    let o3 = *n_byte_offsets.offset(n + 2);\n                    let o4 = *n_byte_offsets.offset(n + 3);\n                    let v1 = *(ptr.offset(o1) as *const T);\n                    let v2 = *(ptr.offset(o2) as *const T);\n                    let v3 = *(ptr.offset(o3) as *const T);\n                    let v4 = *(ptr.offset(o4) as *const T);\n                    writer.write(v1);\n                    writer.write(v2);\n                    writer.write(v3);\n                    writer.write(v4);\n                    n += 4;\n                }\n                while n < n_range.end {\n                    let o1 = *n_byte_offsets.offset(n);\n                    let v1 = *(ptr.offset(o1) as *const T);\n                    writer.write(v1);\n                    n += 1;\n                }\n            }\n        }\n    }"
}